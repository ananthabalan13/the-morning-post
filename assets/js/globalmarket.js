const topGainersLosersData = {
  metadata: "Top gainers, losers, and most actively traded US tickers",
  last_updated: "2025-01-21 16:15:59 US/Eastern",
  top_gainers: [
    {
      ticker: "MSSAW",
      price: "0.0439",
      change_amount: "0.0336",
      change_percentage: "326.2136%",
      volume: "12199",
    },
    {
      ticker: "AERTW",
      price: "0.0495",
      change_amount: "0.0275",
      change_percentage: "125.0%",
      volume: "200",
    },
    {
      ticker: "RDW+",
      price: "11.0",
      change_amount: "5.47",
      change_percentage: "98.915%",
      volume: "626818",
    },
    {
      ticker: "ASST",
      price: "0.9",
      change_amount: "0.4371",
      change_percentage: "94.4264%",
      volume: "265036829",
    },
    {
      ticker: "VATE",
      price: "9.48",
      change_amount: "4.37",
      change_percentage: "85.5186%",
      volume: "30841058",
    },
    {
      ticker: "SST+",
      price: "0.0556",
      change_amount: "0.0254",
      change_percentage: "84.106%",
      volume: "62086",
    },
    {
      ticker: "RELIW",
      price: "0.0349",
      change_amount: "0.0144",
      change_percentage: "70.2439%",
      volume: "6531",
    },
    {
      ticker: "DWTX",
      price: "3.15",
      change_amount: "1.28",
      change_percentage: "68.4492%",
      volume: "24154466",
    },
    {
      ticker: "USEG",
      price: "3.79",
      change_amount: "1.47",
      change_percentage: "63.3621%",
      volume: "105325688",
    },
    {
      ticker: "GDEVW",
      price: "0.0482",
      change_amount: "0.0182",
      change_percentage: "60.6667%",
      volume: "1",
    },
    {
      ticker: "DOGZ",
      price: "28.76",
      change_amount: "10.66",
      change_percentage: "58.895%",
      volume: "1970699",
    },
    {
      ticker: "IVCAW",
      price: "0.0243",
      change_amount: "0.009",
      change_percentage: "58.8235%",
      volume: "94906",
    },
    {
      ticker: "RGTIW",
      price: "6.55",
      change_amount: "2.4",
      change_percentage: "57.8313%",
      volume: "2511910",
    },
    {
      ticker: "PIIIW",
      price: "0.0191",
      change_amount: "0.0068",
      change_percentage: "55.2846%",
      volume: "5548",
    },
    {
      ticker: "AIMAW",
      price: "0.033",
      change_amount: "0.0116",
      change_percentage: "54.2056%",
      volume: "74939",
    },
    {
      ticker: "RDW",
      price: "22.36",
      change_amount: "7.61",
      change_percentage: "51.5932%",
      volume: "10475799",
    },
    {
      ticker: "MACIW",
      price: "0.2499",
      change_amount: "0.0849",
      change_percentage: "51.4545%",
      volume: "2930",
    },
    {
      ticker: "APCXW",
      price: "0.21",
      change_amount: "0.07",
      change_percentage: "50.0%",
      volume: "1420",
    },
    {
      ticker: "GGROW",
      price: "0.0298",
      change_amount: "0.0098",
      change_percentage: "49.0%",
      volume: "40046",
    },
    {
      ticker: "TPET",
      price: "2.64",
      change_amount: "0.86",
      change_percentage: "48.3146%",
      volume: "45574590",
    },
  ],
  top_losers: [
    {
      ticker: "GOEVW",
      price: "0.0084",
      change_amount: "-0.0223",
      change_percentage: "-72.6384%",
      volume: "4805769",
    },
    {
      ticker: "GOEV",
      price: "0.3701",
      change_amount: "-0.9799",
      change_percentage: "-72.5852%",
      volume: "41737637",
    },
    {
      ticker: "SHOTW",
      price: "0.1094",
      change_amount: "-0.0986",
      change_percentage: "-47.4038%",
      volume: "18658",
    },
    {
      ticker: "IMTXW",
      price: "0.04",
      change_amount: "-0.0335",
      change_percentage: "-45.5782%",
      volume: "25106",
    },
    {
      ticker: "MOBBW",
      price: "0.3237",
      change_amount: "-0.1963",
      change_percentage: "-37.75%",
      volume: "23957",
    },
    {
      ticker: "DSX+",
      price: "0.096",
      change_amount: "-0.0566",
      change_percentage: "-37.0904%",
      volume: "93623",
    },
    {
      ticker: "ORKT",
      price: "0.7069",
      change_amount: "-0.4131",
      change_percentage: "-36.8839%",
      volume: "7564639",
    },
    {
      ticker: "AMODW",
      price: "0.052",
      change_amount: "-0.028",
      change_percentage: "-35.0%",
      volume: "88307",
    },
    {
      ticker: "ILLRW",
      price: "0.13",
      change_amount: "-0.07",
      change_percentage: "-35.0%",
      volume: "256412",
    },
    {
      ticker: "TNONW",
      price: "0.013",
      change_amount: "-0.0068",
      change_percentage: "-34.3434%",
      volume: "21412",
    },
    {
      ticker: "CSLMR",
      price: "0.12",
      change_amount: "-0.0621",
      change_percentage: "-34.1021%",
      volume: "680",
    },
    {
      ticker: "VLN+",
      price: "0.0714",
      change_amount: "-0.0365",
      change_percentage: "-33.8276%",
      volume: "11600",
    },
    {
      ticker: "NRXPW",
      price: "0.2",
      change_amount: "-0.0991",
      change_percentage: "-33.1327%",
      volume: "34883",
    },
    {
      ticker: "MTEKW",
      price: "0.689",
      change_amount: "-0.341",
      change_percentage: "-33.1068%",
      volume: "66773",
    },
    {
      ticker: "ZCARW",
      price: "0.0152",
      change_amount: "-0.0073",
      change_percentage: "-32.4444%",
      volume: "8236",
    },
    {
      ticker: "SLDPW",
      price: "0.1752",
      change_amount: "-0.084",
      change_percentage: "-32.4074%",
      volume: "116360",
    },
    {
      ticker: "KLTOW",
      price: "0.041",
      change_amount: "-0.019",
      change_percentage: "-31.6667%",
      volume: "8242",
    },
    {
      ticker: "GFAIW",
      price: "0.21",
      change_amount: "-0.0903",
      change_percentage: "-30.0699%",
      volume: "39049",
    },
    {
      ticker: "SDSTW",
      price: "0.21",
      change_amount: "-0.09",
      change_percentage: "-30.0%",
      volume: "1308",
    },
    {
      ticker: "HEPA",
      price: "0.3218",
      change_amount: "-0.1366",
      change_percentage: "-29.7993%",
      volume: "1647529",
    },
  ],
  most_actively_traded: [
    {
      ticker: "GCTK",
      price: "0.125",
      change_amount: "0.0401",
      change_percentage: "47.232%",
      volume: "606637611",
    },
    {
      ticker: "CRKN",
      price: "0.113",
      change_amount: "-0.012",
      change_percentage: "-9.6%",
      volume: "390834576",
    },
    {
      ticker: "ASST",
      price: "0.9",
      change_amount: "0.4371",
      change_percentage: "94.4264%",
      volume: "265036829",
    },
    {
      ticker: "RGTI",
      price: "13.98",
      change_amount: "4.15",
      change_percentage: "42.2177%",
      volume: "224176282",
    },
    {
      ticker: "RIME",
      price: "0.0346",
      change_amount: "-0.007",
      change_percentage: "-16.8269%",
      volume: "220304444",
    },
    {
      ticker: "NVDA",
      price: "140.83",
      change_amount: "3.12",
      change_percentage: "2.2656%",
      volume: "188234891",
    },
    {
      ticker: "EONR",
      price: "1.315",
      change_amount: "0.295",
      change_percentage: "28.9216%",
      volume: "133117106",
    },
    {
      ticker: "QBTS",
      price: "6.33",
      change_amount: "1.06",
      change_percentage: "20.1139%",
      volume: "131186154",
    },
    {
      ticker: "HSDT",
      price: "1.03",
      change_amount: "0.279",
      change_percentage: "37.1505%",
      volume: "108405919",
    },
    {
      ticker: "USEG",
      price: "3.79",
      change_amount: "1.47",
      change_percentage: "63.3621%",
      volume: "105325688",
    },
    {
      ticker: "AAPL",
      price: "222.64",
      change_amount: "-7.34",
      change_percentage: "-3.1916%",
      volume: "96958795",
    },
    {
      ticker: "INTC",
      price: "21.77",
      change_amount: "0.28",
      change_percentage: "1.3029%",
      volume: "94651855",
    },
    {
      ticker: "ACON",
      price: "0.0425",
      change_amount: "0.0002",
      change_percentage: "0.4728%",
      volume: "92651611",
    },
    {
      ticker: "LCID",
      price: "2.86",
      change_amount: "-0.21",
      change_percentage: "-6.8404%",
      volume: "91871279",
    },
    {
      ticker: "SOUN",
      price: "16.52",
      change_amount: "2.88",
      change_percentage: "21.1144%",
      volume: "88431281",
    },
    {
      ticker: "TSLA",
      price: "424.07",
      change_amount: "-2.43",
      change_percentage: "-0.5698%",
      volume: "85541736",
    },
    {
      ticker: "TSLL",
      price: "29.53",
      change_amount: "-0.38",
      change_percentage: "-1.2705%",
      volume: "73436472",
    },
    {
      ticker: "PLUG",
      price: "2.2",
      change_amount: "-0.24",
      change_percentage: "-9.8361%",
      volume: "71272474",
    },
    {
      ticker: "SOFI",
      price: "17.9",
      change_amount: "1.4",
      change_percentage: "8.4848%",
      volume: "67274719",
    },
    {
      ticker: "MSTU",
      price: "12.66",
      change_amount: "-0.47",
      change_percentage: "-3.5796%",
      volume: "65867779",
    },
  ],
};

const apiKey = "OT31MS13T9VD5GB6"

const rightHeading = document.querySelector(".rightHeading");
const subHeaders = rightHeading.querySelectorAll("h4");
const dataVisibleDivArr = document.querySelectorAll(
  ".dataVisibleDiv .dataVisible"
);
const loader = document.querySelector(".loader")
const pageNotFoundDiv =document.querySelector(".pageNotFound")
const chart = document.querySelector(".chart")

subHeaders.forEach((menu) => {
  menu.addEventListener("click", () => {
    console.log("clicked");
    rightHeading.querySelector(".active").classList.remove("active");
    menu.classList.add("active");
  });
});

const activeStocksBody = document.getElementById("activeStocks");
const topGainersBody = document.getElementById("topGainers");
const topLosersBody = document.getElementById("topLosers");

subHeaders.forEach((header, i) => {
  header.addEventListener("click", () => {
    if (i == 0) {
      const activeStocks = topGainersLosersData["most_actively_traded"];
      activeStocksBody.innerHTML = "";
      activeStocks.forEach((stock) => {
        const stocks = `
          <div class="stocks" data-ticker="${stock.ticker}">
                      <h3>${stock.ticker}</h3>
                      <div class="stock-details">
                          <h3 class="currentPrice">${stock.price}</h3>
                          <p>${toFixNumber(stock.change_percentage)}</p>
                      </div>
                  </div>
        `;
        activeStocksBody.innerHTML += stocks;
        activeStocksBody.style.display = "flex";
        topGainersBody.style.display = "none";
        topLosersBody.style.display = "none";
      });
    } else if (i == 1) {
      const topGainersStocks = topGainersLosersData["top_gainers"];
      // console.log(topGainersStocks);
      topGainersBody.innerHTML = "";
      topGainersStocks.forEach((stock) => {
        const stocks = `
    <div class="stocks" data-ticker="${stock.ticker}">
                <h3>${stock.ticker}</h3>
                <div class="stock-details">
                    <h3 class="currentPrice">${stock.price}</h3>
                    <p style="color: green;">${toFixNumber(
                      stock.change_percentage
                    )}</p>
                </div>
            </div>
  `;
        topGainersBody.innerHTML += stocks;
        activeStocksBody.style.display = "none";
        topGainersBody.style.display = "flex";
        topLosersBody.style.display = "none";
      });
    } else if (i == 2) {
      const topLosersStocks = topGainersLosersData["top_losers"];
      // console.log(topLosersStocks);
      topLosersBody.innerHTML = "";
      topLosersStocks.forEach((stock) => {
        const stocks = `
    <div class="stocks" data-ticker="${stock.ticker}">
                <h3>${stock.ticker}</h3>
                <div class="stock-details">
                    <h3 class="currentPrice">${stock.price}</h3>
                    <p style="color: red;">${toFixNumber(
                      stock.change_percentage
                    )}</p>
                </div>
            </div>
  `;
        topLosersBody.innerHTML += stocks;
        activeStocksBody.style.display = "none";
        topGainersBody.style.display = "none";
        topLosersBody.style.display = "flex";
      });
    } else {
      alert("something Went Wrong");
    }
    initilializeStockClick();
  });
});

function toFixNumber(value, digit = 2) {
  if (value.trim() !== "") {
    const num = Number(value.split("%")[0]);
    const requiredFormat = num.toFixed(digit) + "%";
    return requiredFormat;
  }
}

const companyName =document.querySelector(".companyName")
const stockSymbol = document.querySelector(".stockSymbol")
const currentPrice = document.querySelector(".currentPrice")
const changedPercentage = document.querySelector(".changedPercentage")

function initilializeStockClick() {
  const allStocks = document.querySelectorAll(".stocks");
  
  if (!allStocks.length > 0) return;

  allStocks.forEach((stock,i) => {
    stock.addEventListener("click", () => {
      loader.style.display="flex"
      const symbol = stock.querySelector("h3").textContent;
      dataVisibleDivArr.forEach((dataBtn) => {
        dataBtn.setAttribute("data-id", symbol);
        stockSymbol.textContent=symbol
        const percentage =`(${stock.querySelector("p").textContent})`
        changedPercentage.textContent=percentage
        currentPrice.textContent=(`$${stock.querySelector(".currentPrice").textContent}`)
        dataVisibleDivArr.forEach(menu =>{
          menu.classList.remove("active")
        })
      });
      showGraph(symbol);
    });
  });
}

const allSymbols = [
  ...topGainersLosersData.top_gainers.map((item) => item.ticker),
  ...topGainersLosersData.top_losers.map((item) => item.ticker),
  ...topGainersLosersData.most_actively_traded.map((item) => item.ticker),
];

const searchInput = document.getElementById("input")
const symbolsList = document.querySelector(".symbolsList")

function searchSymbols(){
  symbolsList.style.display="block"
  const inputVal =searchInput.value.toUpperCase()

  const upperCaseSymbols = allSymbols.filter(symbol => symbol.toUpperCase().includes(inputVal)
)
  symbolsList.innerHTML="" 

  upperCaseSymbols.forEach(ticker => {
    const li = document.createElement('li');
    li.textContent = ticker;
    symbolsList.appendChild(li)
  });
  const stocksList = document.querySelectorAll("li")
  stocksList.forEach(li => {
    li.addEventListener("click",()=>{
      const symbol = li.textContent
      symbolsList.style.display="none"
      showGraph(symbol)
      const searchedElement = document.querySelector(`[data-ticker="${symbol}"]`)
      console.log(searchedElement);
      searchedElement.click()
    })
  }) 
}
document.addEventListener('click', (event) => {
  if (!searchInput.contains(event.target) && !symbolsList.contains(event.target)) {
    symbolsList.style.display = 'none';
    searchInput.value=""
  }
});

async function showGraph(symbol) {
  dataVisibleDivArr[2].classList.add("active")
  console.log(symbol);

  const url = `https://www.alphavantage.co/query?function=TIME_SERIES_MONTHLY&symbol=${symbol}&apikey=${apiKey}`;
  const data = await fetch(url)
    .then((res) => res.json())
    .then((monthlyData) => {
      return monthlyData;
    });


  if (data["Monthly Time Series"]) {
    const filterData = [];
    const dailyData = data["Monthly Time Series"];

    for (const date in dailyData) {
      if (date.startsWith("2024")) {
        filterData[date] = dailyData[date];
      }
    }
    let volumeData = [];

    for (const date in filterData) {
      volumeData.push(filterData[date]["5. volume"]);
    }
    loader.style.display="none"
    
    const eachMonthVolumeData = volumeData.reverse();

    graphData(eachMonthVolumeData);
  }

  else{
    pageNotFoundDiv.style.display="flex"
    loader.style.display="none"
    chart.style.display="none"
  }
}

let chartInstance;

function graphDataForDailyReport(volume,timeSeries){
  const ctx = document.querySelector(".chart").getContext("2d");

  if (chartInstance) {
    chartInstance.destroy();
  }

  chartInstance = new Chart(ctx, {
    type: "line",
    data: {
      labels: timeSeries,
      datasets: [
        {
          label: "Todays Report",
          data: volume,
          lineTension: 0.5,
          backgroundColor: "lightblue",
          borderCapStyle: "round",
          borderJoinStyle: "round",
          pointBackgroundColor:"blue",
          pointHoverBorderWidth: 5,
          pointHoverBorderColor: "blue",
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
}

function graphDataForWeeklyReport(volume,label){
  const ctx = document.querySelector(".chart").getContext("2d");

  if (chartInstance) {
    chartInstance.destroy();
  }

  chartInstance = new Chart(ctx, {
    type: "line",
    data: {
      labels: label,
      datasets: [
        {
          label: "Weekly Report 2025",
          data: volume,
          lineTension: 0.5,
          backgroundColor: "lightblue",
          borderCapStyle: "round",
          borderJoinStyle: "round",
          pointBackgroundColor:"blue",
          pointHoverBorderWidth: 5,
          pointHoverBorderColor: "blue",
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
}


function graphDataForYearlyReport(volume){
  const ctx = document.querySelector(".chart").getContext("2d");

  if (chartInstance) {
    chartInstance.destroy();
  }

  chartInstance = new Chart(ctx, {
    type: "bar",
    data: {
      labels: ['2020','2021','2022','2023','2024'],
      datasets: [
        {
          label: "Yearly Report",
          data: volume,
          lineTension: 0.3,
          backgroundColor: "blue",
          borderColor: "aliceblue",
          borderCapStyle: "round",
          borderJoinStyle: "round",
          pointHoverBorderWidth: 5,
          pointHoverBorderColor: "blue",
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
}


function graphData(volume) {
  const ctx = document.querySelector(".chart").getContext("2d");

  if (chartInstance) {
    chartInstance.destroy();
  }
if(volume){
  chartInstance = new Chart(ctx, {
    type: "bar",
    data: {
      labels: [
        "Jan",
        "Feb",
        "Mar",
        "Apr",
        "May",
        "Jun",
        "Jul",
        "Aug",
        "Sep",
        "Oct",
        "Nov",
        "Dec",
      ],
      datasets: [
        {
          label: "Monthly Data 2024",
          data: volume,
          lineTension: 0.3,
          backgroundColor: "blue",
          borderColor: "aliceblue",
          borderCapStyle: "round",
          borderJoinStyle: "round",
          pointHoverBorderWidth: 5,
          pointHoverBorderColor: "blue",
        },
      ],
    },
    options: {
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
}
else{
  alert("data not found")
}
}
async function dailyReport(id) {
  console.log(id);
  loader.style.display="flex"
  if (!id) return;
  const url = `https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=${id}&interval=5min&apikey=${apiKey}`;
  const data = await fetch(url)
    .then((res) => res.json())
    .then((dailyData) => {
      return dailyData;
    });

  const timeSeriesDaily =data["Time Series (5min)"]

  const timeSeries =[]
  const volumeData=[]

  if (timeSeriesDaily) {
    
    for (const date in timeSeriesDaily) {
      if (date){
      timeSeries.push(date.slice(11))  
      }
     volumeData.push(timeSeriesDaily[date]["5. volume"])
    }
    graphDataForDailyReport(volumeData,timeSeries);
    loader.style.display="none"
  }
  else{
    pageNotFoundDiv.style.display="flex"
    chart.style.display="none"
    loader.style.display="none"
}
console.log(id,"Daily data");
}

async function weeklyReport(id) {
  console.log(id);

  loader.style.display="flex"

  if (!id) return;
  const url = `https://www.alphavantage.co/query?function=TIME_SERIES_WEEKLY&symbol=${id}&interval=5min&apikey=${apiKey}`;
  const data = await fetch(url)
    .then((res) => res.json())
    .then((weeklyData) => {
      return weeklyData;
    });

  const weeklyData =data["Weekly Time Series"]

  if (weeklyData) {
    const weeklyTimeSeries =[]
    const volumeData=[]

    for (const date in weeklyData) {
      if (date.startsWith("2025")) {
        weeklyTimeSeries.push(date)  
        volumeData.push(weeklyData[date]["5. volume"])
      }
    }
    graphDataForWeeklyReport(volumeData,weeklyTimeSeries);
    loader.style.display="none"
    
  }
  else{
    pageNotFoundDiv.style.display="flex"
    chart.style.display="none"
    loader.style.display="none"
  }
  console.log(id,"weekly data");
}

function monthlyReport(id) {
  console.log(id);
  if (!id) return;
  showGraph(id)
  console.log(id,"monthly data");
}

async function yearlyReport(id) {
  console.log(id);
  loader.style.display="flex"
  const url = `https://www.alphavantage.co/query?function=TIME_SERIES_MONTHLY&symbol=${id}&apikey=${apiKey}`;
  const data = await fetch(url)
    .then((res) => res.json())
    .then((monthlyData) => {
      return monthlyData;
    });

  if (data["Monthly Time Series"]) {
    const filterData2020 = [];
    const filterData2021 = [];
    const filterData2022 = [];
    const filterData2023 = [];
    const filterData2024 = [];

    const monthlyData = data["Monthly Time Series"];

    for (const date in monthlyData) {
      if (date.startsWith("2024")) {
        filterData2024[date] = monthlyData[date];
      }
      else if (date.startsWith("2023")) {
        filterData2023[date] = monthlyData[date];
      }
      else if (date.startsWith("2022")) {
        filterData2022[date] = monthlyData[date];
      }
      else if (date.startsWith("2021")) {
        filterData2021[date] = monthlyData[date];
      }
      else if (date.startsWith("2020")) {
        filterData2020[date] = monthlyData[date];
      }
    }
   
  const volumesData2020 =getVolumes(filterData2020,"2020")
  const volumesData2021 =getVolumes(filterData2021,"2021") 
  const volumesData2022 =getVolumes(filterData2022,"2022")    
  const volumesData2023 =getVolumes(filterData2023,"2023")
  const volumesData2024 =getVolumes(filterData2024,"2024")
    
  const totalVolume2020 = volumesData2020.reduce((sum, volume) => sum + parseInt(volume, 10), 0);
  const totalVolume2021 = volumesData2021.reduce((sum, volume) => sum + parseInt(volume, 10), 0);
  const totalVolume2022 = volumesData2022.reduce((sum, volume) => sum + parseInt(volume, 10), 0);
  const totalVolume2023 = volumesData2023.reduce((sum, volume) => sum + parseInt(volume, 10), 0);
  const totalVolume2024 = volumesData2024.reduce((sum, volume) => sum + parseInt(volume, 10), 0);

    const yearlyVolume=[totalVolume2020,totalVolume2021,totalVolume2022,totalVolume2023,totalVolume2024]

    graphDataForYearlyReport(yearlyVolume)
    loader.style.display="none"
}
else{
  pageNotFoundDiv.style.display="flex"
  chart.style.display="none"
  loader.style.display="none"
}
console.log(id,"yearly data");
}

dataVisibleDivArr.forEach((box, i) => {
  box.addEventListener("click", () => {
    const id = box.getAttribute("data-id");

    if (!id) return;

    switch (i) {
      case 0:
        dailyReport(id);
        break;
      case 1:
        weeklyReport(id);
        break;
      case 2:
        monthlyReport(id);
        break;
      case 3:
        yearlyReport(id);
        break;
      default:
        alert("something went wrong");
    }
  });
});
const dataVisibleDivParent =document.querySelector(".dataVisibleDiv")

dataVisibleDivArr.forEach((menu) => {
  menu.addEventListener("click", () => {
    dataVisibleDivParent.querySelector(".active").classList.remove("active");
    menu.classList.add("active");
  });
});

function getVolumes(data,year) {

  const volumes = Object.entries(data)
    .filter(([date]) => date.startsWith(year))
    .map(([_, details]) => details["5. volume"]);
  
  return volumes;
}
document.addEventListener("DOMContentLoaded", () => {
  initilializeStockClick();
  subHeaders[1].click();
  subHeaders[2].click();
  subHeaders[0].click();
});

document.addEventListener("DOMContentLoaded",()=>{
  const firstChild = document.querySelector(".stocks") 
  firstChild.click()
})